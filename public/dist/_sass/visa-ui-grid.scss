@import 'visa-ui-utils';
@import 'visa-ui-colors';
@import 'visa-ui-theme';
@import 'visa-ui-core';



/***
  visa-ui Grid
  BEM Naming Convention http://getbem.com/naming/

  @author sacuna
*/

@mixin flexcol {
  @include xbrowser-property(box-flex, 1);
  align-self: flex-start;
  box-sizing: inherit;
  flex-direction: column;

  // http: //stackoverflow.com/questions/34250282/flexbox-safari-bug-flex-wrap
  &::before,
  &::after {
    content: none;
  }
}

@mixin defaultcol {
  @include flexcol;
  flex: 0 0 100%;
  max-width: 100%;
  padding: theme(grid-col-padding);
}

@mixin evencol {
  @include flexcol;
  @include xbrowser-property(box-flex, 1);
  flex-basis: 0;
  flex-grow: 1;
  max-width: 100%;
  padding: theme(grid-col-padding);
}

/* === Grid - Container ========== */
.visa-ui-grid {
  @include display-flex;
  flex-wrap: wrap;
  margin: auto;
  width: theme(grid-width-small);

  // http: //stackoverflow.com/questions/34250282/flexbox-safari-bug-flex-wrap
  &::before,
  &::after {
    content: none;
  }


  /* === Grid - Container Responsive Sizes ========== */
  @media #{$media-screen-small} {
    max-width: theme(grid-width-small);
    width: 100%;
  }

  @media #{$media-screen-medium-large} {
    max-width: theme(grid-width-medium);
    width: 100%;
  }

  @media #{$media-screen-large} {
    width: theme(grid-width-large);
  }

  /* === Grid - Column definitions ========== */
  @mixin col-sm {
    @include evencol;

    &-1 {
      @include flexcol;
      flex: 0 0 25%;
      max-width: 25%;
      padding: theme(grid-col-padding);
    }

    &-2 {
      @include flexcol;
      flex: 0 0 50%;
      max-width: 50%;
      padding: theme(grid-col-padding);
    }

    &-3 {
      @include flexcol;
      flex: 0 0 75%;
      max-width: 75%;
      padding: theme(grid-col-padding);
    }

    &-4 {
      @include flexcol;
      flex: 0 0 100%;
      max-width: 100%;
      padding: theme(grid-col-padding);
    }
  }

  @mixin col-md {
    @include evencol;

    &-1 {
      @include flexcol;
      flex: 0 0 12.5%;
      max-width: 12.5%;
      padding: theme(grid-col-padding);
    }

    &-2 {
      @include flexcol;
      flex: 0 0 25%;
      max-width: 25%;
      padding: theme(grid-col-padding);
    }

    &-3 {
      @include flexcol;
      flex: 0 0 37.5%;
      max-width: 37.5%;
      padding: theme(grid-col-padding);
    }

    &-4 {
      @include flexcol;
      flex: 0 0 50%;
      max-width: 50%;
      padding: theme(grid-col-padding);
    }

    &-5 {
      @include flexcol;
      flex: 0 0 62.5%;
      max-width: 62.5%;
      padding: theme(grid-col-padding);
    }

    &-6 {
      @include flexcol;
      flex: 0 0 75%;
      max-width: 75%;
      padding: theme(grid-col-padding);
    }

    &-7 {
      @include flexcol;
      flex: 0 0 87.5%;
      max-width: 87.5%;
      padding: theme(grid-col-padding);
    }

    &-8 {
      @include flexcol;
      flex: 0 0 100%;
      max-width: 100%;
      padding: theme(grid-col-padding);
    }
  }

  @mixin col-lg {
    @include evencol;

    &-1 {
      @include flexcol;
      flex: 0 0 8.33%;
      max-width: 8.33%;
      padding: theme(grid-col-padding);
    }

    &-2 {
      @include flexcol;
      flex: 0 0 16.66%;
      max-width: 16.66%;
      padding: theme(grid-col-padding);
    }

    &-3 {
      @include flexcol;
      flex: 0 0 25%;
      max-width: 25%;
      padding: theme(grid-col-padding);
    }

    &-4 {
      @include flexcol;
      flex: 0 0 33.33%;
      max-width: 33.33%;
      padding: theme(grid-col-padding);
    }

    &-5 {
      @include flexcol;
      flex: 0 0 41.67%;
      max-width: 41.67%;
      padding: theme(grid-col-padding);
    }

    &-6 {
      @include flexcol;
      flex: 0 0 50%;
      max-width: 50%;
      padding: theme(grid-col-padding);
    }

    &-7 {
      @include flexcol;
      flex: 0 0 58.33%;
      max-width: 58.33%;
      padding: theme(grid-col-padding);
    }

    &-8 {
      @include flexcol;
      flex: 0 0 66.67%;
      max-width: 66.67%;
      padding: theme(grid-col-padding);
    }

    &-9 {
      @include flexcol;
      flex: 0 0 75%;
      max-width: 75%;
      padding: theme(grid-col-padding);
    }

    &-10 {
      @include flexcol;
      flex: 0 0 83.33%;
      max-width: 83.33%;
      padding: theme(grid-col-padding);
    }

    &-11 {
      @include flexcol;
      flex: 0 0 91.67%;
      max-width: 91.67%;
      padding: theme(grid-col-padding);
    }

    &-12 {
      @include flexcol;
      flex: 0 0 100%;
      max-width: 100%;
      padding: theme(grid-col-padding);
    }
  }


  /* === Grid - Container-fluid ========== */
  &--fluid {
    display: block;
    margin: auto;
    width: 100%;
  }

  &,
  &--fluid {
    /* === Rows ============ */
    .row {
      @include display-flex;
      box-sizing: border-box;
      flex-direction: row;
      flex-wrap: wrap;
      width: 100%;

      // http: //stackoverflow.com/questions/34250282/flexbox-safari-bug-flex-wrap
      &::before,
      &::after {
        content: none;
      }
    }

    /* === Columns ========== */
    .col {
      @include evencol;

      /* === Column SMALL ========== */
      &--sm {
        @include col-sm;
      }

      /* === Column MEDIUM ========== */
      @media #{$media-screen-small} {
        &--md-1,
        &--md-2,
        &--md-3,
        &--md-4,
        &--md-5,
        &--md-6,
        &--md-7,
        &--md-8 {
          &:not([class*='col--sm']) {
            @include defaultcol;
          }
        }
      }

      @media #{$media-screen-medium} {
        &--md {
          @include col-md;
        }
      }

      /* === Column LARGE ========== */
      @media #{$media-screen-small} {
        &--lg-1,
        &--lg-2,
        &--lg-3,
        &--lg-4,
        &--lg-5,
        &--lg-6,
        &--lg-7,
        &--lg-8,
        &--lg-9,
        &--lg-10,
        &--lg-11,
        &--lg-12 {
          &:not([class*='col--sm']) {
            @include defaultcol;
          }
        }
      }

      @media #{$media-screen-medium-large} {
        &--lg-1,
        &--lg-2,
        &--lg-3,
        &--lg-4,
        &--lg-5,
        &--lg-6,
        &--lg-7,
        &--lg-8,
        &--lg-9,
        &--lg-10,
        &--lg-11,
        &--lg-12 {
          &:not([class*='col--sm']) {
            &:not([class*='col--md']) {
              @include defaultcol;
            }
          }
        }
      }

      @media #{$media-screen-large} {
        &--lg {
          @include col-lg;
        }
      }
    }
  }
}
